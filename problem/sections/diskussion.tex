\section{Diskussion}
\label{sec:diskussion}

Formålet med dette afsnit er, at diskutere hvorvidt vores løsning opfylder de krav, der blev opstillet til løsningen i afsnit \ref{sec:losning}.

Det første krav var, at programmet skulle kunne vise et billede af en lampe og dens belysning. Dette krav er som vist under afsnit \ref{sec:test} opfyldt, da programmet kan modtage en 3D-fil af en lampe samt en kontekst, og ud fra dette rendere og gemme et billede af lampens belysning i konteksten. På figur \ref{fig:test_real_fake} kan det ses, at der er en afvigelse mellem billedet af den virkelige lampe og billedet af den renderede 3D-model for lampen. Dette kan til dels skyldes præcisionen af de mål, der blev foretaget for at konstruere 3D-modellen af lampen. Derudover er det en simpel model (phong-modellen) som, i vores program, ikke tager højde for alle lysfænomener såsom refleksion og refraktion. Dette gør, at programmet har en begrænsning i forhold til den realisme, billederne af lampen kan have. Et eksempel som programmet ikke kan rendere, er en lampe, som har en reflekterende overflade, som gør at man kan se en spejling af andre objekter i lampens overflade. I stedet for phong-modellen, kunne det tænkes at der var andre modeller, som også kunne anvendes. Derudover kunne modellen udvides, så den kunne håndtere refleksioner og refraktioner, og på den måde hæve kvaliteten af det renderede billede. Dette er dog ikke nået i dette projekt grundet tidsmangel. Derudover vil højere realisme sandsynligvis også øge renderingstiden, hvilket vil kræve at programmet optimeres yderligere. Der er derfor en balancegang mellem realisme og renderingstid, som skal tages højde for, hvis programmet skulle videreudvikles.

Det andet krav var, at det i programmet skulle være muligt at ændre synsvinklen hvorfra lampen og dens belysning visualiseres fra. Dette krav er løst som vist på figur \ref{fig:synsvinkel} under afsnit \ref{sec:test} ved at modtage to vinkler, der indikerer hvorfra lampen skal ses. I den 3D-model, som programmet indlæser, er lampens lyskilde indikeret med et sort lys. Det er positionen af dette sorte lys, som bestemmer hvorhen det virtuelle kamera er rettet mod. Dette kan være problematisk, hvis man f.eks.\ ønsker at visualisere en lyskæde, hvor det er svært at afgøre hvilket lys kameraet skal rettes mod. Dette kunne eventuelt løses ved at finde et gennemsnitspunkt af alle sorte lys positioner. 

Det tredje krav var, at det i programmet skulle være muligt at ændre farvetemperaturen for pæren i lampen. I programmet er pæren beskrevet ved en radius, en lysintensitet og en farvetemperatur. Dette er blot en tilnærmet model af en pære. Der tages ikke højde for pærens form eller type. Derudover visualiseres selve pæren ikke i programmet, men kun selve dens lys. For at øge realismen vil dette være nødvendigt at tage højde for pærens form og type.
Farvetemperaturen for pærens lys er implementeret i programmet ved at omdanne farvetemperaturens værdi i kelvin til RGB-værdier ud fra algoritmen, som er beskrevet i afsnit \ref{sec:temptilrgb}. Når 3D-filen indlæses overskrives alle sorte lyskilder med den pågældende farvetemperatur. Ulempen ved denne løsning er, at algoritmen der konverterer farvetemperatur i kelvin til RGB-værdier kun bygger på regression af ét datasæt, og der kan derfor være usikkerheder som gør, at billedet af lampen og dens belysning med en bestemt farvetemperatur ikke stemmer overens med den reelle farvetemperatur for lampen. Afvigelsen kan ses på figur \ref{fig:test_real_fake}, hvor der er en forskel mellem de to billeders farvenuancer. Dette kan enten være en fejl i programmet eller en uoverensstemmelse med den farvetemperatur, som er angivet på pæren. For at afgøre hvor fejlen ligger, vil det være nødvendigt at foretage flere test og målinger, hvis der ønskes en højere overenstemmelse med den reelle farvetemperatur.

Det fjerde krav var, at programmet skulle kunne rendere et billede af en lampe og dens belysning på en tid der er praktisk anvendelig. Som dokumenteret i afsnit \ref{sec:test} ses der, at selv efter løsningen er blevet optimeret, så kan det tage adskillige minutter at rendere et billede. Det tog f.eks.\ 5305s at rendere figur \ref{fig:fake}. Dette udelukker, at vores løsning er praktisk anvendelig i form af, at der skal renderes et nyt billede så snart brugeren ændrer synsvinklen. Dog kunne man benytte programmet til, at forudrendere billeder af lampen fra forskellige synsvinkler, som lagres på en server, der herefter kan vises på en e-butikshjemmeside. Dette begrænser dog antallet af synsvinkler som lampen kan visualiseres fra, da mange synsvinkler og farvetemperaturer giver mange kombinationer og dermed lang renderingstid. 

Det femte krav var, at programmet skulle kunne implementeres på en e-butikshjemmeside således at billederne af lampen og dens belysning kan visualiseres for kunderne. Dette krav blev ikke opfyldt da fokus har været at visualisere belysningen fra lamper, og ikke selve brugerfladen for visningen af de renderede billeder på en e-butikkenshjemmeside.  

\subsection*{Opsummering}

Ud fra ovenstående kan der nu kort opsummeres, at krav 1-3 er løst, da programmet kan rendere et billede af en lampe og dens belysning, fra forskellige synsvinkler og med forskellige farvetemperaturer. Krav 4 er delvist løst, da det stadigvæk er muligt for simple renderinger at fremstille billeder på en tid, som gør at programmet er praktisk anvendelig til renderinger af billeder til en e-butikshjemmeside. Krav 5 er ikke løst, da fokus har været at lave den del der renderer billedet, og der mangler derfor den brugerflade, som gør at billederne kan vises på en e-butiks hjemmeside. 
\clearpage